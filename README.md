# Vulnerability-Interstellar-eth

## ğŸ¹åŸºäºä»¥å¤ªåŠå…±äº«åä½œå¼æ¼æ´å¤„ç†å¹³å°-VIğŸ¹

> é¡¹ç›®æºåœ°å€ï¼šhttps://github.com/Wangert/Vulnerability-Interstellar



### èƒŒæ™¯ä»‹ç»

æœ¬é¡¹ç›®åŸºäºåŸæ¥çš„é¡¹ç›®è¿›è¡Œä¿®æ”¹å’Œå®Œå–„ï¼Œå°†ä¹‹å‰é‡‡ç”¨çš„ç¬¬ä¸‰æ–¹è”ç›Ÿé“¾æ”¹ä¸ºé€šç”¨æ€§æ›´å¼ºçš„ä»¥å¤ªåŠï¼Œå¹¶ä¿®å¤Solidityåˆçº¦ä¸å…¼å®¹çš„åœ°æ–¹å’ŒIPFS æ–‡ä»¶ä¸‹è½½å¤±è´¥çš„é—®é¢˜ã€‚åŒæ—¶æ”¹å˜åŸæ¥çš„MVCæ¥å£çš„åˆå§‹åŒ–æ–¹å¼ï¼ŒåŠ å¿«äº†ç³»ç»Ÿçš„è¿è¡Œé€Ÿåº¦ã€‚

### æ ¸å¿ƒæŠ€æœ¯

- è¯­è¨€:
  Java1.8ã€Solidity0.4.2ã€Html5ã€CSS3
- æ¡†æ¶:
  SpringBoot2.0ã€Thymeleaf
- åˆ†å¸ƒå¼å­˜å‚¨:
  IPFS
- åŒºå—é“¾:
  ä»¥å¤ªåŠ(V1.9.23)

### å®‰è£…æ–‡æ¡£

ä¸‹è½½åœ°å€ï¼šhttps://github.com/ipfs/go-ipfs/releases

å®‰è£…è·¯å¾„ï¼š `/usr/local/`

å®‰è£…æµç¨‹ï¼š
#### IPFSå®‰è£…

```shell
// è§£å‹
$ tar xvfz go-ipfs_v0.6.0_linux-amd64.tar.gz
// æ‰§è¡Œå®‰è£…
$ cd go-ipfs
$ ./install.sh
```

è®¾ç½®ç¯å¢ƒå˜é‡ï¼š

```shell
$ vim /etc/profile

// è¾“å…¥ä¸€ä¸‹å†…å®¹
export IPFS_HOME=/usr/local/go-ipfs
export PATH=$IPFS_HOME:$PATH
export IPFS_PATH=$IPFS_HOME/ipfs_data

$ source /etc/profile
```

è®¾ç½®IPFSå¼€æœºè‡ªå¯åŠ¨

```shell
$ cd /lib/systemd/system/
$ vim ipfs.service 
// è¾“å…¥
[Unit]
Description=IPFS
[Service]
ExecStart=/usr/local/bin/ipfs daemon --enable-gc
Environment=export IPFS_PATH=/opt/ipfs  #ï¼ˆæ‰‹åŠ¨æ·»åŠ è‡ªå·±çš„ç¯å¢ƒå˜é‡ï¼‰
Restart=always
[Install]
WantedBy=multi-user.target

$ service ipfs start
$ sudo systemctl status ipfs.service
$ sudo systemctl enable ipfs.service
```

#### JAVA8 å®‰è£…

ä¸‹è½½åœ°å€ï¼š

https://www.oracle.com/java/technologies/javase-downloads.html

å®‰è£…è·¯å¾„ï¼š`/usr/local`

å®‰è£…è¿‡ç¨‹ï¼š

```shell
$ tar -zxvf jdk-8u241-linux-x64.tar.gz
$ mv jdk1.8.0_241/ java
```

è®¾ç½®ç¯å¢ƒå˜é‡ï¼š

```shell
$ vim /etc/profile

// è¾“å…¥ä¸€ä¸‹å†…å®¹
export JAVA_HOME=/usr/local/java
export PATH=$JAVA_HOME/bin:$PATH

$ source /etc/profile
```

#### ä»¥å¤ªåŠ å®‰è£…å’Œæ­å»º

ä¸‹è½½åœ°å€ï¼š

 https://geth.ethereum.org/downloads/

å®‰è£…è·¯å¾„ï¼š`/usr/local`

å®‰è£…ï¼š

```shell
$ tar -xvf geth-linux-amd64-1.9.23-8c2f2715.tar.gz
$ mv geth-linux-amd64-1.9.23-8c2f2715 geth
```

è®¾ç½®ç¯å¢ƒå˜é‡ï¼š

```shell
$ vim /etc/profile

export GETH_HOME=/usr/local/geth
export PATH=$GETH_HOME:$PATH

$ source /etc/profile
```

ä½¿ç”¨ï¼š

```shell
// åˆ›å»ºæ•°æ®è·¯å¾„
$ mkdir /usr/local/src/gethtest

// å¯åŠ¨ä»¥å¤ªåŠ
$ geth --rpc --rpccorsdomain="*" --rpcapi web3,eth,debug,personal,net --vmdebug --datadir /usr/local/src/gethtest/data1 --dev --rpc.allow-unprotected-txs
```

####  æ¼æ´æ˜Ÿé™…é¡¹ç›®å®‰è£…

ä½¿ç”¨mavenå¯¼å‡ºé¡¹ç›®JaråŒ…

```
maven build vhw-0.0.1-SNAPSHOT.jar
```

å°†jaråŒ…å’Œé¡¹ç›®resourceæ–‡ä»¶å¯¼å…¥åˆ°æœåŠ¡å™¨

```shell
å¯¼å…¥è·¯å¾„
/usr/local/src/vi
```

é¡¹ç›®ç»“æ„ï¼š

````
.
â”œâ”€â”€ geth.out
â”œâ”€â”€ nohup.out
â”œâ”€â”€ src
â”‚   â””â”€â”€ main
â”‚       â””â”€â”€ resources
â”œâ”€â”€ startgeth.sh
â”œâ”€â”€ startvhw.sh
â”œâ”€â”€ vhw-0.0.1-SNAPSHOT.jar
â””â”€â”€ vhw-0.0.1-SNAPSHOT.jar.original
````

ä»¥å¤ªåŠå¯åŠ¨è„šæœ¬:

```shell
$ vim startgeth.sh

geth --rpc --rpccorsdomain="*" --rpcapi web3,eth,debug,personal,net --vmdebug --datadir /usr/local/src/gethtest/data1 --dev --rpc.allow-unprotected-txs
```

é¡¹ç›®å¯åŠ¨è„šæœ¬:

```shell
$ vim startvhw.sh

// è¾“å…¥ä¸€ä¸‹å†…å®¹
#!/usr/bin/env bash
#!/bin/sh
RESOURCE_NAME=vhw-0.0.1-SNAPSHOT.jar
 
tpid=`ps -ef|grep $RESOURCE_NAME|grep -v grep|grep -v kill|awk '{print $2}'`
if [ ${tpid} ]; then
echo 'Stop Process...'
kill -15 $tpid
fi
sleep 5
tpid=`ps -ef|grep $RESOURCE_NAME|grep -v grep|grep -v kill|awk '{print $2}'`
if [ ${tpid} ]; then
echo 'Kill Process!'
kill -9 $tpid
else
echo 'Stop Success!'
fi
 
tpid=`ps -ef|grep $RESOURCE_NAME|grep -v grep|grep -v kill|awk '{print $2}'`
if [ ${tpid} ]; then
    echo 'App is running.'
else
    echo 'App is NOT running.'
fi
 
rm -f tpid
nohup java -jar ./$RESOURCE_NAME  & tail -f nohup.out
echo $! > tpid
echo Start Success!
```

#### é¡¹ç›®å¯åŠ¨

````shell
centos7 
è´¦å· root
å¯†ç  123456

éœ€è¦å¼€å¯ä¸¤ä¸ªsshè¿æ¥é¡µé¢

1ã€ç¬¬ä¸€ä¸ªsshè¿æ¥ï¼Œå¯åŠ¨ä»¥å¤ªåŠ
è¿›å…¥é¡¹ç›®æ–‡ä»¶å¤¹
cd /usr/local/src/vi/
./startgeth.sh

2ã€ç¬¬äºŒä¸ªsshè¿æ¥ï¼Œå¼€å¯é¡¹ç›®
cd /usr/local/src/vi/
./startvhw.sh 

æŸ¥çœ‹æ—¥å¿—ä¸­çš„æ™ºèƒ½åˆçº¦æ˜¯å¦åŠ è½½æˆåŠŸ

3ã€æŸ¥çœ‹IPåœ°å€ï¼š
å‘½ä»¤ ip addr

4ã€æµè§ˆå™¨è¾“å…¥ï¼š
http://è™šæ‹Ÿæœºipåœ°å€:8081
ä¾‹å¦‚ï¼š192.168.17.140:8081
````
### é¡¹ç›®å±•ç¤º

- ç™»å½•<br/>
  ![Login](https://github.com/Wangert/Vulnerability-Interstellar/blob/master/showFigures/Login.png)
- æ³¨å†Œ <br/>
  ![Regist](https://github.com/Wangert/Vulnerability-Interstellar/blob/master/showFigures/Regist.png)
- åä½œ<br/>
  ![Assessment](https://github.com/Wangert/Vulnerability-Interstellar/blob/master/showFigures/Technology%20Assessment.png)
- ä¸»é¡µ<br/>
  ![HomePage](https://github.com/Wangert/Vulnerability-Interstellar/blob/master/showFigures/HomePage.png)
- ç›‘æ§ <br/>
  ![Monitor](https://github.com/Wangert/Vulnerability-Interstellar/blob/master/showFigures/Monitor.png)
- å…¶ä»–<br/>
  ![Page1](https://github.com/Wangert/Vulnerability-Interstellar/blob/master/showFigures/page1.png) <br/>
  ![Page2](https://github.com/Wangert/Vulnerability-Interstellar/blob/master/showFigures/page2.png)







